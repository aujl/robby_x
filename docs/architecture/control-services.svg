<svg xmlns="http://www.w3.org/2000/svg" width="940" height="520" viewBox="0 0 940 520">
  <style>
    .title { font: bold 24px sans-serif; }
    .label { font: 15px sans-serif; }
    .node { fill: #ffffff; stroke: #34495e; stroke-width: 2; rx: 12; ry: 12; }
    .group { fill: #f4f9ff; stroke: #5c7fa3; stroke-dasharray: 6 4; stroke-width: 2; }
    .link { stroke: #34495e; stroke-width: 2; marker-end: url(#arrow); }
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L9,3 L0,6 z" fill="#34495e" />
    </marker>
  </defs>
  <text x="30" y="40" class="title">Control Services Components</text>
  <rect class="group" x="60" y="80" width="360" height="320" />
  <text x="80" y="110" class="label">Control Plane</text>
  <rect class="node" x="90" y="140" width="300" height="60" />
  <text x="120" y="176" class="label">Input Gateway (WebSocket)</text>
  <rect class="node" x="90" y="220" width="300" height="60" />
  <text x="140" y="256" class="label">Command Router</text>
  <rect class="node" x="90" y="300" width="300" height="60" />
  <text x="160" y="336" class="label">Safety Manager</text>
  <rect class="node" x="90" y="380" width="300" height="60" />
  <text x="140" y="416" class="label">Telemetry Publisher</text>

  <rect class="group" x="460" y="140" width="240" height="240" />
  <text x="480" y="170" class="label">Runtime</text>
  <rect class="node" x="490" y="200" width="180" height="60" />
  <text x="510" y="236" class="label">Motor Control Adapter</text>
  <rect class="node" x="490" y="280" width="180" height="60" />
  <text x="526" y="316" class="label">Sensor Reader</text>
  <rect class="node" x="490" y="360" width="180" height="60" />
  <text x="520" y="396" class="label">Heartbeat Monitor</text>

  <rect class="node" x="760" y="160" width="140" height="60" />
  <text x="790" y="196" class="label">Driver UI</text>
  <rect class="node" x="760" y="260" width="140" height="60" />
  <text x="788" y="296" class="label">Event Logger</text>

  <line class="link" x1="830" y1="190" x2="390" y2="170" />
  <line class="link" x1="240" y1="200" x2="240" y2="220" />
  <line class="link" x1="240" y1="280" x2="240" y2="300" />
  <line class="link" x1="240" y1="360" x2="580" y2="230" />
  <line class="link" x1="580" y1="360" x2="580" y2="330" />
  <line class="link" x1="580" y1="300" x2="240" y2="410" />
  <line class="link" x1="580" y1="260" x2="580" y2="220" />
  <line class="link" x1="240" y1="380" x2="240" y2="410" />
  <line class="link" x1="240" y1="380" x2="830" y2="290" />
  <line class="link" x1="600" y1="400" x2="240" y2="330" />
</svg>
