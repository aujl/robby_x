<svg xmlns="http://www.w3.org/2000/svg" width="980" height="420" viewBox="0 0 980 420">
  <style>
    .title { font: bold 24px sans-serif; }
    .label { font: 15px sans-serif; }
    .node { fill: #ffffff; stroke: #8e44ad; stroke-width: 2; rx: 12; ry: 12; }
    .link { stroke: #8e44ad; stroke-width: 2; marker-end: url(#arrow); }
  </style>
  <defs>
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="11" refY="5" orient="auto">
      <path d="M0,0 L11,5 L0,10 z" fill="#8e44ad" />
    </marker>
  </defs>
  <text x="30" y="40" class="title">End-to-End Data Flow</text>

  <rect class="node" x="60" y="180" width="140" height="70" />
  <text x="90" y="222" class="label">Driver</text>
  <rect class="node" x="220" y="120" width="140" height="70" />
  <text x="250" y="162" class="label">Web UI</text>
  <rect class="node" x="220" y="240" width="140" height="70" />
  <text x="250" y="282" class="label">Video UI</text>
  <rect class="node" x="380" y="120" width="160" height="70" />
  <text x="398" y="162" class="label">WebSocket Gateway</text>
  <rect class="node" x="560" y="120" width="160" height="70" />
  <text x="598" y="162" class="label">Safety Manager</text>
  <rect class="node" x="740" y="120" width="160" height="70" />
  <text x="768" y="162" class="label">Motor Controller</text>
  <rect class="node" x="740" y="220" width="160" height="70" />
  <text x="766" y="262" class="label">Sensors</text>
  <rect class="node" x="560" y="220" width="160" height="70" />
  <text x="584" y="262" class="label">Telemetry Stream</text>
  <rect class="node" x="380" y="220" width="160" height="70" />
  <text x="398" y="262" class="label">Video Service</text>
  <rect class="node" x="560" y="320" width="160" height="70" />
  <text x="582" y="362" class="label">Time-series Store</text>
  <rect class="node" x="740" y="320" width="160" height="70" />
  <text x="764" y="362" class="label">Analytics</text>

  <line class="link" x1="200" y1="215" x2="220" y2="155" />
  <line class="link" x1="360" y1="155" x2="380" y2="155" />
  <line class="link" x1="540" y1="155" x2="560" y2="155" />
  <line class="link" x1="720" y1="155" x2="740" y2="155" />
  <line class="link" x1="820" y1="190" x2="820" y2="220" />
  <line class="link" x1="740" y1="255" x2="560" y2="255" />
  <line class="link" x1="640" y1="255" x2="640" y2="310" />
  <line class="link" x1="640" y1="355" x2="820" y2="355" />
  <line class="link" x1="640" y1="255" x2="300" y2="275" />
  <line class="link" x1="360" y1="255" x2="260" y2="275" />
</svg>
